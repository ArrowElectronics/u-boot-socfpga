// SPDX-License-Identifier: GPL-2.0+
/*
 * U-Boot additions
 *
 * Copyright (C) 2019-2022 Intel Corporation <www.intel.com>
 */

#include "socfpga_soc64_fit-u-boot.dtsi"

/{
	memory {
		#address-cells = <2>;
		#size-cells = <2>;
		u-boot,dm-pre-reloc;
	};

	soc {
		u-boot,dm-pre-reloc;

		socfpga_secreg: socfpga-secreg {
			compatible = "intel,socfpga-secreg";
			#address-cells = <1>;
			#size-cells = <1>;
			u-boot,dm-pre-reloc;

			/* DSU */
			i_ccu_caiu0@1c000000 {
				reg = <0x1c000000 0x00001000>;
				intel,offset-settings =
					/* CAIUAMIGR */
					<0x000003c0 0x00000003>,
					/* CAIUMIFSR */
					<0x000003c4 0x00000002>,
					/* DII0_PSSPERIPHS */
					<0x00000404 0x00010000>,
					<0x00000408 0x00000000>,
					<0x00000400 0xc0f00000>,
					/* DII1_MPFEREGS */
					<0x00000414 0x00018000>,
					<0x00000418 0x00000000>,
					<0x00000410 0xc0e00200>,
					/* DII2_GICREGS */
					<0x00000424 0x0001d000>,
					<0x00000428 0x00000000>,
					<0x00000420 0xc0800400>,
					/* DMI_SDRAM_2G */
					<0x00000464 0x00080000>,
					<0x00000468 0x00000000>,
					<0x00000460 0x81300000>,
					/* DMI_SDRAM_30G */
					<0x00000484 0x00800000>,
					<0x00000488 0x00000000>,
					<0x00000480 0x81700000>,
					/* DMI_SDRAM_480G */
					<0x000004a4 0x08000000>,
					<0x000004a8 0x00000000>,
					<0x000004a0 0x81b00000>;
				u-boot,dm-pre-reloc;
			};

			/* PSS NOC */
			i_ccu_ncaiu3@1c004000 {
				reg = <0x1c004000 0x00001000>;
				intel,offset-settings =
					/* NCAIU3AMIGR */
					<0x000003c0 0x00000003>,
					/* NCAIU3MIFSR */
					<0x000003c4 0x00000002>,
					/* DII1_MPFEREGS */
					<0x00000414 0x00018000>,
					<0x00000418 0x00000000>,
					<0x00000410 0xc0e00200>,
					/* DMI_SDRAM_2G */
					<0x00000464 0x00080000>,
					<0x00000468 0x00000000>,
					<0x00000460 0x81300000>,
					/* DMI_SDRAM_30G */
					<0x00000484 0x00800000>,
					<0x00000488 0x00000000>,
					<0x00000480 0x81700000>,
					/* DMI_SDRAM_480G */
					<0x000004a4 0x08000000>,
					<0x000004a8 0x00000000>,
					<0x000004a0 0x81b00000>;
				u-boot,dm-pre-reloc;
			};

			/* DCE0 */
			i_ccu_dce0@1c005000 {
				reg = <0x1c005000 0x00001000>;
				intel,offset-settings =
					/* DCEUAMIGR0 */
					<0x000003c0 0x00000003>,
					/* DCEUMIFSR0 */
					<0x000003c4 0x00000000>,
					/* DMI_SDRAM_2G */
					<0x00000464 0x00080000>,
					<0x00000468 0x00000000>,
					<0x00000460 0x81300000>,
					/* DMI_SDRAM_30G */
					<0x00000484 0x00800000>,
					<0x00000488 0x00000000>,
					<0x00000480 0x81700000>,
					/* DMI_SDRAM_480G */
					<0x000004a4 0x08000000>,
					<0x000004a8 0x00000000>,
					<0x000004a0 0x81b00000>;
				u-boot,dm-pre-reloc;
			};

			/* DCE1 */
			i_ccu_dce1@1c006000 {
				reg = <0x1c006000 0x00001000>;
				intel,offset-settings =
					/* DCEUAMIGR1 */
					<0x000003c0 0x00000003>,
					/* DCEUMIFSR1 */
					<0x000003c4 0x00000000>,
					/* DMI_SDRAM_2G */
					<0x00000464 0x00080000>,
					<0x00000468 0x00000000>,
					<0x00000460 0x81300000>,
					/* DMI_SDRAM_30G */
					<0x00000484 0x00800000>,
					<0x00000488 0x00000000>,
					<0x00000480 0x81700000>,
					/* DMI_SDRAM_480G */
					<0x000004a4 0x08000000>,
					<0x000004a8 0x00000000>,
					<0x000004a0 0x81b00000>;
				u-boot,dm-pre-reloc;
			};

			/* DMI0 */
			i_ccu_dmi0@1c007000 {
				reg = <0x1c007000 0x00001000>;
				intel,offset-settings =
					/* DCEUAMIGR1 */
					<0x00000300 0x00000003>;
				u-boot,dm-pre-reloc;
			};

			/* DMI1 */
			i_ccu_dmi0@1c008000 {
				reg = <0x1c008000 0x00001000>;
				intel,offset-settings =
					/* DCEUAMIGR1 */
					<0x00000300 0x00000003>;
				u-boot,dm-pre-reloc;
			};
		};
	};
};

&clkmgr {
	u-boot,dm-pre-reloc;
};

&i2c0 {
	reset-names = "i2c";
};

&i2c1 {
	reset-names = "i2c";
};

&i2c2 {
	reset-names = "i2c";
};

&i2c3 {
	reset-names = "i2c";
};

&mmc {
	resets = <&rst SDMMC_RESET>, <&rst SDMMC_OCP_RESET>;
};

&porta {
	bank-name = "porta";
};

&portb {
	bank-name = "portb";
};

&qspi {
	u-boot,dm-pre-reloc;
};

&rst {
	compatible = "altr,rst-mgr";
	altr,modrst-offset = <0x24>;
	u-boot,dm-pre-reloc;
};

&sdr {
	compatible = "intel,sdr-ctl-agilex_edge";
	reg = <0xf8000400 0x80>,
	      <0xf8010000 0x190>,
	      <0xf8011000 0x500>;
	resets = <&rst DDRSCH_RESET>;
	u-boot,dm-pre-reloc;
};

&sysmgr {
	compatible = "altr,sys-mgr", "syscon";
	u-boot,dm-pre-reloc;
};

&uart0 {
	u-boot,dm-pre-reloc;
};

&watchdog0 {
	u-boot,dm-pre-reloc;
};
